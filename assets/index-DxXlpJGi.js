(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function e(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(t){if(t.ep)return;t.ep=!0;const i=e(t);fetch(t.href,i)}})();const g=JSON.parse(`[{"id":1,"name":{"fr":"Set de Base","en":"Core Set"},"is_expansion":false,"release_date":{"fr":"2013-03-22","en":"2012-10-08"},"factions":[{"id":1,"name":{"fr":"Aliens","en":"Aliens"},"rating":{"fr":9,"en":10}},{"id":2,"name":{"fr":"Dinosaures","en":"Dinosaurs"},"rating":{"fr":4,"en":5}},{"id":3,"name":{"fr":"ninjas","en":"ninjas"},"rating":{"fr":9,"en":8}},{"id":4,"name":{"fr":"pirates","en":"pirates"},"rating":{"fr":5,"en":4}},{"id":5,"name":{"fr":"robots","en":"robots"},"rating":{"fr":9,"en":10}},{"id":6,"name":{"fr":"petits peuples","en":"tricksters"},"rating":{"fr":4,"en":1}},{"id":7,"name":{"fr":"sorciers","en":"wizards"},"rating":{"fr":8,"en":8}},{"id":8,"name":{"fr":"zombies","en":"zombies"},"rating":{"fr":7,"en":9}}]},{"id":2,"name":{"fr":"Même pas mort","en":"Awesome Level 9000"},"is_expansion":true,"release_date":{"fr":"2013-09-13","en":"2013-04-08"},"factions":[{"id":1,"name":{"fr":"Cavalerie Ours","en":"Bear Cavalry"},"rating":{"fr":4,"en":0}},{"id":2,"name":{"fr":"Fantômes","en":"Ghosts"},"rating":{"fr":8,"en":10}},{"id":3,"name":{"fr":"Plantes Carnivores","en":"Killer Plants"},"rating":{"fr":8,"en":9}},{"id":4,"name":{"fr":"Steampunks","en":"Steampunks"},"rating":{"fr":5,"en":4}}]},{"id":3,"name":{"fr":"Cthulhu Fhtagn","en":"The Obligatory Cthulhu"},"is_expansion":true,"release_date":{"fr":"2014-02-14","en":"2013-09-16"},"factions":[{"id":1,"name":{"fr":"Grands Anciens","en":"Elder Things"},"rating":{"fr":4,"en":1}},{"id":2,"name":{"fr":"Innsmouth","en":"Innsmouth"},"rating":{"fr":9,"en":9}},{"id":3,"name":{"fr":"Serviteurs de Cthulhu","en":"Minions of Cthulhu"},"rating":{"fr":9,"en":9}},{"id":4,"name":{"fr":"Université Miskatonic","en":"Miskatonic University"},"rating":{"fr":5,"en":1}}]},{"id":4,"name":{"fr":"Séries B","en":"Science Fiction Double Feature"},"is_expansion":true,"release_date":{"fr":"2014-10-17","en":"2014-03-17"},"factions":[{"id":1,"name":{"fr":"Singes Cyborgs","en":"Cyborg Apes"},"rating":{"fr":6,"en":4}},{"id":2,"name":{"fr":"Métamorphes","en":"Shapeshifters"},"rating":{"fr":6,"en":5}},{"id":3,"name":{"fr":"Super Espions","en":"Super Spies"},"rating":{"fr":2,"en":1}},{"id":4,"name":{"fr":"Voyageurs du Temps","en":"Time Travelers"},"rating":{"fr":8,"en":7}}]},{"id":5,"name":{"fr":"Trop Minions","en":"Pretty Pretty"},"is_expansion":true,"release_date":{"fr":"2015-10-13","en":"2015-03-09"},"factions":[{"id":1,"name":{"fr":"Chatons","en":"Kitty Cats"},"rating":{"fr":7,"en":4}},{"id":2,"name":{"fr":"Fées","en":"Fairies"},"rating":{"fr":7,"en":2}},{"id":3,"name":{"fr":"Princesses","en":"Princesses"},"rating":{"fr":7,"en":4}},{"id":4,"name":{"fr":"Poneys Magiques","en":"Mythic Horses"},"rating":{"fr":6,"en":3}}]},{"id":6,"name":{"fr":"Monstres sacrés","en":"Monster Smash"},"is_expansion":true,"release_date":{"fr":"2015-05-07","en":"2014-09-15"},"factions":[{"id":1,"name":{"fr":"Fourmis Géantes","en":"Giant Ants"},"rating":{"fr":3,"en":2}},{"id":2,"name":{"fr":"Vampires","en":"Vampires"},"rating":{"fr":2,"en":1}},{"id":3,"name":{"fr":"Savants Fous","en":"Mad Scientists"},"rating":{"fr":7,"en":8}},{"id":4,"name":{"fr":"Loups-Garous","en":"Werewolves"},"rating":{"fr":7,"en":9}}]},{"id":7,"name":{"fr":"Munchkin","en":"Munchkin"},"is_expansion":false,"release_date":{"fr":"2016-09-16","en":"2015-09-28"},"factions":[{"id":1,"name":{"fr":"Elfes","en":"Elves"},"rating":{"fr":7,"en":5}},{"id":2,"name":{"fr":"Guerriers","en":"Warriors"},"rating":{"fr":5,"en":2}},{"id":3,"name":{"fr":"Halfelins","en":"Halflings"},"rating":{"fr":7,"en":7}},{"id":4,"name":{"fr":"Magiciens","en":"Mages"},"rating":{"fr":6,"en":2}},{"id":5,"name":{"fr":"Nains","en":"Dwarves"},"rating":{"fr":6,"en":2}},{"id":6,"name":{"fr":"Orques","en":"Orcs"},"rating":{"fr":3,"en":0}},{"id":7,"name":{"fr":"Prêtres","en":"Clerics"},"rating":{"fr":3,"en":1}},{"id":8,"name":{"fr":"Voleurs","en":"Thieves"},"rating":{"fr":2,"en":0}}]},{"id":8,"name":{"fr":"Ressemblances fortuites","en":"Cease and Desist"},"is_expansion":true,"release_date":{"fr":"2017-07-07","en":"2016-09-15"},"factions":[{"id":1,"name":{"fr":"Voyageurs de l'Espace","en":"Star Roamers"},"rating":{"fr":5,"en":4}},{"id":2,"name":{"fr":"Squatteurs de Trône","en":"Ignobles"},"rating":{"fr":7,"en":5}},{"id":3,"name":{"fr":"Chevaliers des Etoiles","en":"Astroknights"},"rating":{"fr":7,"en":3}},{"id":4,"name":{"fr":"Changeformes","en":"Changebots"},"rating":{"fr":5,"en":3}}]},{"id":9,"name":{"fr":"Vous l’aurez voulu !","en":"It’s Your Fault!"},"is_expansion":true,"release_date":{"fr":"2017-01-27","en":"2016-03-07"},"factions":[{"id":1,"name":{"fr":"Requins","en":"Sharks"},"rating":{"fr":9,"en":7}},{"id":2,"name":{"fr":"Dragons","en":"Dragons"},"rating":{"fr":7,"en":7}},{"id":3,"name":{"fr":"Mythologies Grecques","en":"Mythic Greeks"},"rating":{"fr":6,"en":4}},{"id":4,"name":{"fr":"Super-Héros","en":"Superheroes"},"rating":{"fr":9,"en":9}},{"id":5,"name":{"fr":"Tornades","en":"Tornados"},"rating":{"fr":7,"en":8}}]},{"id":10,"name":{"fr":"Conflit de générations","en":"What Were We Thinking?"},"is_expansion":true,"release_date":{"fr":"2017-11-10","en":"2017-03-29"},"factions":[{"id":1,"name":{"fr":"Explorateurs","en":"Explorers"},"rating":{"fr":7,"en":5}},{"id":2,"name":{"fr":"Grands-Mères","en":"Grannies"},"rating":{"fr":8,"en":9}},{"id":3,"name":{"fr":"Rockstars","en":"Rockstars"},"rating":{"fr":10,"en":9}},{"id":4,"name":{"fr":"Oursons","en":"Teddy Bears"},"rating":{"fr":7,"en":5}}]},{"id":11,"name":{"fr":"Rois du Japon","en":"Big In Japan"},"is_expansion":true,"release_date":{"fr":"2018-06-15","en":"2017-09-06"},"factions":[{"id":1,"name":{"fr":"Monstrapoches","en":"Itty Critters"},"rating":{"fr":9,"en":6}},{"id":2,"name":{"fr":"Kaijù","en":"Kaiju"},"rating":{"fr":6,"en":5}},{"id":3,"name":{"fr":"Petites Magiciennes","en":"Magical Girls"},"rating":{"fr":5,"en":2}},{"id":4,"name":{"fr":"Super Combattants","en":"Mega Troopers"},"rating":{"fr":3,"en":1}}]},{"id":12,"name":{"fr":"Ces années-là","en":"That ’70s Expansion"},"is_expansion":true,"release_date":{"fr":"2024-11-22","en":"2023-08-18"},"factions":[{"id":1,"name":{"fr":"Danseurs Disco","en":"Disco Dancers"},"rating":{"fr":5,"en":3}},{"id":2,"name":{"fr":"Justiciers","en":"Vigilantes"},"rating":{"fr":6,"en":3}},{"id":3,"name":{"fr":"Maîtres Kung-Fu","en":"Kung Fu Fighters"},"rating":{"fr":8,"en":8}},{"id":4,"name":{"fr":"Routiers","en":"Truckers"},"rating":{"fr":7,"en":3}}]},{"id":13,"name":{"fr":"Vous en voulez encore ?","en":"Oops, You Did It Again"},"is_expansion":true,"release_date":{"fr":"2020-05-29","en":"2018-09-05"},"factions":[{"id":1,"name":{"fr":"Cowboys","en":"Cowboys"},"rating":{"fr":3,"en":2}},{"id":2,"name":{"fr":"Égypte Ancienne","en":"Ancient Egyptians"},"rating":{"fr":6,"en":3}},{"id":3,"name":{"fr":"Samouraïs","en":"Samurai"},"rating":{"fr":5,"en":3}},{"id":4,"name":{"fr":"Vikings","en":"Vikings"},"rating":{"fr":3,"en":2}}]},{"id":14,"name":{"fr":"Tournée mondiale : Incident diplomatique","en":"World Tour: International Incident"},"is_expansion":true,"release_date":{"fr":"2021-11-20","en":"2019-03-22"},"factions":[{"id":1,"name":{"fr":"Luchadors","en":"Luchadors"},"rating":{"fr":6,"en":3}},{"id":2,"name":{"fr":"Police Montée","en":"Mounties"},"rating":{"fr":4,"en":2}},{"id":3,"name":{"fr":"Mousquetaires","en":"Musketeers"},"rating":{"fr":8,"en":4}},{"id":4,"name":{"fr":"Sumos","en":"Sumo Wrestlers"},"rating":{"fr":8,"en":2}}]},{"id":15,"name":{"fr":"Tournée mondiale : Choc des cultures","en":"World Tour: Culture Shock"},"release_date":{"fr":"2022-06-10","en":"2019-09-06"},"is_expansion":true,"factions":[{"id":1,"name":{"fr":"Contes d'Anansi","en":"Anansi Tales"},"rating":{"fr":6,"en":4}},{"id":2,"name":{"fr":"Anciens Incas","en":"Ancient Incas"},"rating":{"fr":6,"en":6}},{"id":3,"name":{"fr":"Contes de Grimm","en":"Grimms’ Fairy Tales"},"rating":{"fr":8,"en":9}},{"id":4,"name":{"fr":"Voyageurs Polynésiens","en":"Polynesian Voyagers"},"rating":{"fr":5,"en":6}},{"id":5,"name":{"fr":"Contes Féeriques Russes","en":"Russian Fairy Tales"},"rating":{"fr":8,"en":5}}]},{"id":16,"name":{"fr":"Marvel","en":"Marvel"},"is_expansion":false,"release_date":{"fr":"2022-02-25","en":"2021-02-02"},"factions":[{"id":1,"name":{"fr":"Avengers","en":"Avengers"},"rating":{"fr":9,"en":8}},{"id":2,"name":{"fr":"Hydra","en":"Hydra"},"rating":{"fr":8,"en":7}},{"id":3,"name":{"fr":"Kree","en":"Kree"},"rating":{"fr":8,"en":6}},{"id":4,"name":{"fr":"Masters of Evil","en":"Masters of Evil"},"rating":{"fr":4,"en":1}},{"id":5,"name":{"fr":"S.H.I.E.L.D","en":"S.H.I.E.L.D"},"rating":{"fr":5,"en":1}},{"id":6,"name":{"fr":"Sinister Six","en":"Sinister Six"},"rating":{"fr":5,"en":2}},{"id":7,"name":{"fr":"Spider-Verse","en":"Spider-Verse"},"rating":{"fr":5,"en":1}},{"id":8,"name":{"fr":"Ultimates","en":"Ultimates"},"rating":{"fr":5,"en":4}}]},{"id":17,"name":{"fr":"Moutons","en":null},"is_expansion":true,"release_date":{"fr":"2022-08-26","en":null},"factions":[{"id":1,"name":{"fr":"Moutons","en":null},"rating":{"fr":5,"en":4}}]},{"id":18,"name":{"fr":"Pingouins","en":"Penguins"},"is_expansion":true,"release_date":{"fr":"2023-03-10","en":"2019-08-01"},"factions":[{"id":1,"name":{"fr":"Pingouins","en":"Penguins"},"rating":{"fr":5,"en":1}}]},{"id":19,"name":{"fr":"Geeks (Boîte)","en":"Geeks (from Geeky Box)"},"is_expansion":true,"release_date":{"fr":"2015-05-07","en":"2014-08-15"},"factions":[{"id":1,"name":{"fr":"Geeks","en":"Geeks"},"rating":{"fr":10,"en":10}}]},{"id":20,"name":{"fr":"Dream Team (Boîte)","en":"All Stars"},"is_expansion":true,"release_date":{"fr":"2020-11-20","en":"2017-06-12"},"factions":[{"id":1,"name":{"fr":"Dream Team","en":"Smash Up All Stars"},"rating":{"fr":9,"en":8}}]},{"id":21,"name":{"fr":"Fait son Cinéma","en":"Excellent Movies, Dudes!"},"is_expansion":true,"release_date":{"fr":"2024-11-22","en":"2023-08-18"},"factions":[{"id":1,"name":{"fr":"Hommes d'Action","en":"Action Heroes"},"rating":{"fr":null,"en":8}},{"id":2,"name":{"fr":"Retourneurs de Futur","en":"Backtimers"},"rating":{"fr":null,"en":8}},{"id":3,"name":{"fr":"Extramorphes","en":"Extramorphs"},"rating":{"fr":null,"en":5}},{"id":4,"name":{"fr":"Traqueurs de Spectres","en":"Wraithrustlers"},"rating":{"fr":null,"en":7}}]},{"id":22,"name":{"fr":"Edition Anniversaire","en":"10th Anniversary"},"is_expansion":true,"release_date":{"fr":"2025-08-29","en":"2022-10-28"},"factions":[{"id":1,"name":{"fr":"Sirènes","en":"Mermaids"},"rating":{"fr":8,"en":6}},{"id":2,"name":{"fr":"Squelettes","en":"Skeletons"},"rating":{"fr":8,"en":8}},{"id":3,"name":{"fr":"Champions du Monde","en":"World Champs"},"rating":{"fr":5,"en":3}}],"variants":{"fr":[{"id":1,"name":{"fr":"Gobelins","en":null},"rating":{"fr":5,"en":3}}],"en":[{"id":1,"name":{"fr":null,"en":"Sheep"},"rating":{"fr":5,"en":4}}]}},{"id":23,"name":{"fr":null,"en":"Knights of the Round Table"},"is_expansion":true,"release_date":{"fr":null,"en":"2021-09-17"},"factions":[{"id":1,"name":{"fr":null,"en":"Knights of the Round Table"},"rating":{"fr":8,"en":9}}]},{"id":24,"name":{"fr":null,"en":"Goblins"},"is_expansion":true,"release_date":{"fr":null,"en":"2021-05-10"},"factions":[{"id":1,"name":{"fr":null,"en":"Goblins"},"rating":{"fr":5,"en":3}}]},{"id":25,"name":{"fr":null,"en":"Disney Edition"},"is_expansion":false,"release_date":{"fr":null,"en":"2022-06-21"},"factions":[{"id":1,"name":{"fr":null,"en":"Aladdin"},"rating":{"fr":7,"en":5}},{"id":2,"name":{"fr":null,"en":"Beauty and the Beast"},"rating":{"fr":8,"en":6}},{"id":3,"name":{"fr":null,"en":"Big Hero 6"},"rating":{"fr":7,"en":6}},{"id":4,"name":{"fr":null,"en":"Frozen"},"rating":{"fr":10,"en":10}},{"id":5,"name":{"fr":null,"en":"Mulan"},"rating":{"fr":7,"en":6}},{"id":6,"name":{"fr":null,"en":"The Lion King"},"rating":{"fr":7,"en":9}},{"id":7,"name":{"fr":null,"en":"The Nightmare Before Christmas"},"rating":{"fr":6,"en":8}},{"id":8,"name":{"fr":null,"en":"Wreck-It Ralph"},"rating":{"fr":6,"en":6}}]},{"id":26,"name":{"fr":null,"en":"Teens"},"is_expansion":true,"release_date":{"fr":null,"en":"2023-08-25"},"factions":[{"id":1,"name":{"fr":null,"en":"Teens"},"rating":{"fr":null,"en":6}}]}]`),d={sets:g},u=()=>{const r=localStorage.getItem("lang")??"en",n=document.getElementById("sets-root");[...n.children].forEach(e=>{e.tagName.toLowerCase()!=="legend"&&e.remove()}),S(r).forEach(e=>{n.appendChild(h(e,r))})},p=()=>{const r=document.getElementsByName("sets"),n=JSON.parse(localStorage.getItem("ownedSets"))||[];r.forEach(e=>{e.checked=n.includes(e.id)})},h=(r,n)=>{const e=document.createElement("label"),a=document.createElement("input");return a.type="checkbox",a.id=r.id,a.name="sets",a.addEventListener("change",y),e.appendChild(a),e.append(r.name?.[n]),e},y=()=>{const r=document.getElementsByName("sets"),n=[];r.forEach(e=>{e.checked&&n.push(e.id)}),localStorage.setItem("ownedSets",JSON.stringify(n))},S=r=>{let n=Array.isArray(d.sets)?d.sets:[];return _(n,r)},l=(r,n)=>{const e=r?.release_date?.[n]??"",a=Date.parse(e);return Number.isFinite(a)?a:-1/0},_=(r,n)=>M(r,n).sort((e,a)=>l(e,n)-l(a,n)),M=(r,n)=>[...r].filter(e=>e.release_date?.[n]),c=async r=>{const n=localStorage.getItem("lang"),e=r?n:n==="en"?"fr":"en";document.documentElement.setAttribute("lang",e),await E(e),p()},E=async r=>{localStorage.setItem("lang",r);const n=await C(r);b(n)},C=async r=>await(await fetch(`/locales/${r}.json`)).json(),v=(r,n={})=>r.replace(/\{(\w+)\}/g,(e,a)=>n[a]??""),b=r=>{document.querySelectorAll("[data-lang]").forEach(n=>{const e=n.getAttribute("data-lang");r[e]&&(n.textContent=v(r[e],{year:new Date().getFullYear()}))})};function m({modalId:r,openButtonId:n}){const e=document.getElementById(r),a=document.getElementById(n);if(!e||!a){console.warn(`Modal "${r}" or button "${n}" not found`);return}const t=()=>{e.open||e.showModal()},i=()=>{e.open&&e.close()};a.addEventListener("click",t),e.addEventListener("click",o=>{o.target.closest("[data-close]")&&i()}),e.addEventListener("click",o=>{const f=e.getBoundingClientRect();o.clientX>=f.left&&o.clientX<=f.right&&o.clientY>=f.top&&o.clientY<=f.bottom||i()});const s=e.querySelector("#save-settings");s&&s.addEventListener("click",async()=>{s.disabled=!0;try{i()}finally{s.disabled=!1}})}document.addEventListener("DOMContentLoaded",()=>{c(!0),k(),x(),T(),u()});const x=()=>{const r=document.getElementById("year");r.textContent=new Date().getFullYear()},T=()=>{m({modalId:"settings-modal",openButtonId:"settings-button"}),m({modalId:"settings-modal",openButtonId:"open-settings-link"})},k=()=>{document.getElementById("lang-toggle-button").addEventListener("click",()=>{c(),u()})};
